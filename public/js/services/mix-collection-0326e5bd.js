angular.module("app.services").service("MixCollection",["$collection","TrackCollection",function(r,t){var n=r.getInstance({comparator:"-release"});return n.GetPlaylistNumber=function(r){return _.findWhere(n.array,{slug:r})},n.MoveUpDownMix=function(r,t){if(0!==this.length){var n=this.array.indexOf(r)+t;return n>=0&&n<this.array.length?this.array[n]:null}},n.GetRandomMix=function(){return this.array.length>0?this.array[Math.floor(Math.random()*this.array.length)]:null},n.AddTracks=function(r,n){tracks=t.Init(n),this.update({id:r,Tracks:tracks})},n}]).service("TrackCollection",["$collection",function(r){var t=r;return t.prototype.MoveUpDownSong=function(r,t){if(0!==this.length){var n=this.get(r).order+t;return _.findWhere(this.array,{order:n})}},t.Init=function(r){var t=this.getInstance({idAttribute:"id",comparator:"order"});return t.addAll(r)},t}]);