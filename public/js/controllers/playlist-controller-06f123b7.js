angular.module("App").controller("PlaylistCtrl",["$rootScope","$scope","$location","$q","$routeParams","mixService","audio",function(e,c,n,a,i,o,t){c.mixService=o;var l=function(e,n){c.mixService.SelectMix(e).then(function(e){var a=c.mixService.getTrackFromSlug(n);a&&c.PlayTrack(a)})};e.$on("AllPlaylists",function(e){l(i.mix,i.track)}),e.$on("MixChanged",function(e,c){l(c.slug)}),c.PlayTrack=function(c){e.currentTrack?(e.currentTrack!==c||"stopped"===t.state)&&t.PlaySong(c):t.PlaySong(c)},c.PlayPauseClick=function(){t.TogglePlayState()},c.Shuffle=function(e){c.mixService.Shuffle=e}}]);